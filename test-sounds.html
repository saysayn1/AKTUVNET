<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç –∑–≤—É–∫–æ–≤ AKTUVNET</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 600px;
            margin: 50px auto;
            padding: 20px;
            background: #2c2f33;
            color: white;
        }
        h1 {
            color: #5865f2;
            text-align: center;
        }
        .button-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 30px;
        }
        button {
            padding: 15px 30px;
            font-size: 16px;
            background: #5865f2;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.3s;
        }
        button:hover {
            background: #4752c4;
        }
        button:active {
            transform: scale(0.98);
        }
        .status {
            margin-top: 20px;
            padding: 15px;
            background: #40444b;
            border-radius: 8px;
            font-size: 14px;
        }
        .success {
            color: #43b581;
        }
        .error {
            color: #f04747;
        }
    </style>
</head>
<body>
    <h1>üîä –¢–µ—Å—Ç –∑–≤—É–∫–æ–≤ AKTUVNET</h1>
    
    <div class="button-container">
        <button onclick="testMessageSound()">üîî –¢–µ—Å—Ç –∑–≤—É–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è</button>
        <button onclick="testIncomingCallSound()">üìû –¢–µ—Å—Ç –∑–≤—É–∫–∞ –∑–≤–æ–Ω–∫–∞</button>
        <button onclick="testCallConnectedSound()">‚úÖ –¢–µ—Å—Ç –∑–≤—É–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è</button>
        <button onclick="testFriendRequestSound()">üë• –¢–µ—Å—Ç –∑–≤—É–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –≤ –¥—Ä—É–∑—å—è</button>
        <button onclick="testCallEndedSound()">‚ùå –¢–µ—Å—Ç –∑–≤—É–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–≤–æ–Ω–∫–∞</button>
        <button onclick="stopIncomingCall()">‚èπÔ∏è –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–≤–æ–Ω–æ–∫</button>
    </div>

    <div class="status" id="status">
        –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–≤—É–∫
    </div>

    <script src="sounds.js"></script>
    <script>
        const statusDiv = document.getElementById('status');

        function updateStatus(message, isError = false) {
            statusDiv.innerHTML = `<span class="${isError ? 'error' : 'success'}">${message}</span>`;
        }

        function testMessageSound() {
            try {
                soundManager.playMessageSound();
                updateStatus('‚úÖ –ó–≤—É–∫ —Å–æ–æ–±—â–µ–Ω–∏—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω!');
            } catch (e) {
                updateStatus('‚ùå –û—à–∏–±–∫–∞: ' + e.message, true);
                console.error(e);
            }
        }

        function testIncomingCallSound() {
            try {
                soundManager.playIncomingCallSound();
                updateStatus('‚úÖ –ó–≤—É–∫ –≤—Ö–æ–¥—è—â–µ–≥–æ –∑–≤–æ–Ω–∫–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω! (–∑–∞—Ü–∏–∫–ª–µ–Ω–Ω—ã–π)');
            } catch (e) {
                updateStatus('‚ùå –û—à–∏–±–∫–∞: ' + e.message, true);
                console.error(e);
            }
        }

        function testCallConnectedSound() {
            try {
                soundManager.playCallConnectedSound();
                updateStatus('‚úÖ –ó–≤—É–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω!');
            } catch (e) {
                updateStatus('‚ùå –û—à–∏–±–∫–∞: ' + e.message, true);
                console.error(e);
            }
        }

        function testFriendRequestSound() {
            try {
                soundManager.playFriendRequestSound();
                updateStatus('‚úÖ –ó–≤—É–∫ –∑–∞–ø—Ä–æ—Å–∞ –≤ –¥—Ä—É–∑—å—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω!');
            } catch (e) {
                updateStatus('‚ùå –û—à–∏–±–∫–∞: ' + e.message, true);
                console.error(e);
            }
        }

        function testCallEndedSound() {
            try {
                soundManager.playCallEndedSound();
                updateStatus('‚úÖ –ó–≤—É–∫ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–≤–æ–Ω–∫–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω!');
            } catch (e) {
                updateStatus('‚ùå –û—à–∏–±–∫–∞: ' + e.message, true);
                console.error(e);
            }
        }

        function stopIncomingCall() {
            try {
                soundManager.stopIncomingCallSound();
                updateStatus('‚èπÔ∏è –ó–≤–æ–Ω–æ–∫ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω');
            } catch (e) {
                updateStatus('‚ùå –û—à–∏–±–∫–∞: ' + e.message, true);
                console.error(e);
            }
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∑–≤—É–∫–æ–≤
        window.addEventListener('load', () => {
            setTimeout(() => {
                const loadedSounds = Object.keys(soundManager.sounds).length;
                updateStatus(`üì¶ –ó–∞–≥—Ä—É–∂–µ–Ω–æ –∑–≤—É–∫–æ–≤: ${loadedSounds}/5`);
            }, 1000);
        });
    </script>
</body>
</html>
